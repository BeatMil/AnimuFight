[gd_scene load_steps=17 format=3 uid="uid://cijpe5mfa2ffb"]

[ext_resource type="Script" uid="uid://clroey4coqt7x" path="res://scripts/stage_01.gd" id="1_4caca"]
[ext_resource type="PackedScene" uid="uid://2b1ywpnefvth" path="res://nodes/player.tscn" id="1_i6ddm"]
[ext_resource type="Texture2D" uid="uid://cei5iglc0dohc" path="res://media/sprites/stage01/home.png" id="2_4caca"]
[ext_resource type="Texture2D" uid="uid://c2anqn8y5dr50" path="res://media/sprites/stage01/floor.png" id="2_fnmkw"]
[ext_resource type="PackedScene" uid="uid://da0dtoj0kt1oe" path="res://nodes/ui/restart_menu.tscn" id="2_nh3b5"]
[ext_resource type="Texture2D" uid="uid://cppqygp1b42a1" path="res://media/sprites/stage01/building.png" id="4_dimc6"]
[ext_resource type="Script" uid="uid://ckudchaksw6pd" path="res://scripts/enemy_spawner_stage01.gd" id="5_70ndm"]
[ext_resource type="Texture2D" uid="uid://nv6dkesnffpt" path="res://media/sprites/stage01/floor_dark.png" id="5_nasqd"]
[ext_resource type="Script" uid="uid://duxhld58ww51q" path="res://scripts/enemy_spawn_helper.gd" id="6_l457t"]
[ext_resource type="PackedScene" uid="uid://c4m5deiee8q8w" path="res://nodes/boss01.tscn" id="7_nh3b5"]
[ext_resource type="PackedScene" uid="uid://b2vaqeiw3q18o" path="res://nodes/enemy_01.tscn" id="8_nasqd"]
[ext_resource type="PackedScene" uid="uid://by4mdvdte0wet" path="res://nodes/enemy_02.tscn" id="9_dimc6"]
[ext_resource type="PackedScene" uid="uid://bhw2h1n6yqhk8" path="res://nodes/enemy_04.tscn" id="10_bc8xj"]
[ext_resource type="PackedScene" uid="uid://bfomnvauggr4o" path="res://nodes/junction_box.tscn" id="11_l457t"]
[ext_resource type="PackedScene" uid="uid://dxf7beg6mlrhw" path="res://nodes/falling_flower_pot.tscn" id="15_bc8xj"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_i6ddm"]
size = Vector2(1920, 326)

[node name="Stage01" type="Node2D"]
script = ExtResource("1_4caca")

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="RestartMenu" parent="CanvasLayer" instance=ExtResource("2_nh3b5")]
visible = false

[node name="Player" parent="." instance=ExtResource("1_i6ddm")]
position = Vector2(803.417, 411.32)

[node name="Map" type="Node2D" parent="."]

[node name="Building" type="Sprite2D" parent="Map"]
position = Vector2(2893, 341)
texture = ExtResource("4_dimc6")

[node name="Home" type="Sprite2D" parent="Map"]
position = Vector2(960, 329)
texture = ExtResource("2_4caca")

[node name="Floor" type="Sprite2D" parent="Map"]
position = Vector2(961, 637)
texture = ExtResource("5_nasqd")

[node name="StaticBody2D" type="StaticBody2D" parent="Map/Floor" groups=["ground"]]
position = Vector2(35, 304)
collision_layer = 8
collision_mask = 0

[node name="CollisionShape2D" type="CollisionShape2D" parent="Map/Floor/StaticBody2D"]
position = Vector2(-35, 8)
shape = SubResource("RectangleShape2D_i6ddm")

[node name="Floor2" type="Sprite2D" parent="Map" groups=["ground"]]
position = Vector2(2881, 637)
texture = ExtResource("2_fnmkw")

[node name="StaticBody2D" type="StaticBody2D" parent="Map/Floor2" groups=["ground"]]
position = Vector2(35, 304)
collision_layer = 8
collision_mask = 0

[node name="CollisionShape2D" type="CollisionShape2D" parent="Map/Floor2/StaticBody2D"]
position = Vector2(-35, 8)
shape = SubResource("RectangleShape2D_i6ddm")

[node name="Floor3" type="Sprite2D" parent="Map" groups=["ground"]]
position = Vector2(-958, 637)
texture = ExtResource("2_fnmkw")

[node name="StaticBody2D" type="StaticBody2D" parent="Map/Floor3" groups=["ground"]]
position = Vector2(35, 304)
collision_layer = 8
collision_mask = 0

[node name="CollisionShape2D" type="CollisionShape2D" parent="Map/Floor3/StaticBody2D"]
position = Vector2(-35, 8)
shape = SubResource("RectangleShape2D_i6ddm")

[node name="EnemySpawnerNew" type="Node2D" parent="." node_paths=PackedStringArray("target", "enemy_to_spawn")]
script = ExtResource("5_70ndm")
target = NodePath("../Player")
enemy_to_spawn = [NodePath("../EnemySpawnHelper/Phase1"), NodePath("../EnemySpawnHelper/Phase2"), NodePath("../EnemySpawnHelper/Phase3"), NodePath("../EnemySpawnHelper/Phase4"), null, null, null, null, null]

[node name="enemyCount" type="Node" parent="EnemySpawnerNew"]

[node name="EnemySpawnHelper" type="Node" parent="."]

[node name="boss02" type="Node" parent="EnemySpawnHelper" node_paths=PackedStringArray("position")]
script = ExtResource("6_l457t")
position = NodePath("../../SpawnPos/pos3")
hp = 50
object = ExtResource("7_nh3b5")

[node name="Phase1" type="Node" parent="EnemySpawnHelper"]

[node name="e2" type="Node" parent="EnemySpawnHelper/Phase1" node_paths=PackedStringArray("position")]
script = ExtResource("6_l457t")
position = NodePath("../../../SpawnPos/pos1")
hp = 50
object = ExtResource("8_nasqd")

[node name="e3" type="Node" parent="EnemySpawnHelper/Phase1" node_paths=PackedStringArray("position")]
script = ExtResource("6_l457t")
position = NodePath("../../../SpawnPos/pos1")
hp = 50
object = ExtResource("8_nasqd")

[node name="Phase2" type="Node" parent="EnemySpawnHelper"]

[node name="e3" type="Node" parent="EnemySpawnHelper/Phase2" node_paths=PackedStringArray("position")]
script = ExtResource("6_l457t")
position = NodePath("../../../SpawnPos/pos1")
hp = 10
object = ExtResource("9_dimc6")

[node name="Phase3" type="Node" parent="EnemySpawnHelper"]

[node name="e2" type="Node" parent="EnemySpawnHelper/Phase3" node_paths=PackedStringArray("position")]
script = ExtResource("6_l457t")
position = NodePath("../../../SpawnPos/pos1")
hp = 30
object = ExtResource("9_dimc6")

[node name="e1" type="Node" parent="EnemySpawnHelper/Phase3" node_paths=PackedStringArray("position")]
script = ExtResource("6_l457t")
position = NodePath("../../../SpawnPos/pos2")
hp = 30
object = ExtResource("8_nasqd")

[node name="Phase4" type="Node" parent="EnemySpawnHelper"]

[node name="e2" type="Node" parent="EnemySpawnHelper/Phase4"]
script = ExtResource("6_l457t")
hp = 30
object = ExtResource("8_nasqd")

[node name="e3" type="Node" parent="EnemySpawnHelper/Phase4"]
script = ExtResource("6_l457t")
hp = 30
object = ExtResource("8_nasqd")

[node name="e4" type="Node" parent="EnemySpawnHelper/Phase4"]
script = ExtResource("6_l457t")
hp = 30
object = ExtResource("9_dimc6")

[node name="Phase5" type="Node" parent="EnemySpawnHelper"]

[node name="e2" type="Node" parent="EnemySpawnHelper/Phase5"]
script = ExtResource("6_l457t")
hp = 30
object = ExtResource("8_nasqd")

[node name="e3" type="Node" parent="EnemySpawnHelper/Phase5"]
script = ExtResource("6_l457t")
hp = 30
object = ExtResource("8_nasqd")

[node name="e4" type="Node" parent="EnemySpawnHelper/Phase5"]
script = ExtResource("6_l457t")
hp = 30
object = ExtResource("9_dimc6")

[node name="e5" type="Node" parent="EnemySpawnHelper/Phase5"]
script = ExtResource("6_l457t")
hp = 30
object = ExtResource("9_dimc6")

[node name="Phase6" type="Node" parent="EnemySpawnHelper"]

[node name="e2" type="Node" parent="EnemySpawnHelper/Phase6"]
script = ExtResource("6_l457t")
hp = 10
object = ExtResource("8_nasqd")

[node name="e4" type="Node" parent="EnemySpawnHelper/Phase6"]
script = ExtResource("6_l457t")
hp = 10
object = ExtResource("9_dimc6")

[node name="Phase7" type="Node" parent="EnemySpawnHelper"]

[node name="e4" type="Node" parent="EnemySpawnHelper/Phase7"]
script = ExtResource("6_l457t")
hp = 200
object = ExtResource("10_bc8xj")

[node name="Phase8" type="Node" parent="EnemySpawnHelper"]

[node name="e4" type="Node" parent="EnemySpawnHelper/Phase8"]
script = ExtResource("6_l457t")
hp = 200
object = ExtResource("10_bc8xj")

[node name="e3" type="Node" parent="EnemySpawnHelper/Phase8"]
script = ExtResource("6_l457t")
hp = 10
object = ExtResource("8_nasqd")

[node name="e5" type="Node" parent="EnemySpawnHelper/Phase8"]
script = ExtResource("6_l457t")
hp = 10
object = ExtResource("8_nasqd")

[node name="Phase9" type="Node" parent="EnemySpawnHelper"]

[node name="boss01" type="Node" parent="EnemySpawnHelper/Phase9"]
script = ExtResource("6_l457t")
hp = 50
object = ExtResource("7_nh3b5")

[node name="SpawnPos" type="Node" parent="."]

[node name="pos1" type="Marker2D" parent="SpawnPos"]
position = Vector2(1497, -340)

[node name="pos2" type="Marker2D" parent="SpawnPos"]
position = Vector2(2842, 585)

[node name="pos3" type="Marker2D" parent="SpawnPos"]
position = Vector2(186, -351)

[node name="pos4" type="Marker2D" parent="SpawnPos"]
position = Vector2(-552, 716)

[node name="pos5" type="Marker2D" parent="SpawnPos"]
position = Vector2(2648, 727)

[node name="pos6" type="Marker2D" parent="SpawnPos"]
position = Vector2(3520, 368)

[node name="JunctionBox" parent="." instance=ExtResource("11_l457t")]
position = Vector2(1929, 561)

[node name="FallingFlowerPot" parent="." instance=ExtResource("15_bc8xj")]
position = Vector2(317, 576)
